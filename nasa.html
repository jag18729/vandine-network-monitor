<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NASA Engineering Principles - Python Examples | Vandine</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #667eea;
            --success: #10b981;
            --danger: #ef4444;
            --bg: #0a0e27;
            --card: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.1);
            --text: #e8e8e8;
            --muted: #a0a0a0;
        }
        body {
            font-family: -apple-system, system-ui, sans-serif;
            background: linear-gradient(135deg, var(--bg) 0%, #1a1f3a 100%);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }

        header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border);
        }
        header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--primary), #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        header p { color: var(--muted); }

        .back {
            display: inline-block;
            color: var(--primary);
            text-decoration: none;
            margin-bottom: 2rem;
        }
        .back:hover { text-decoration: underline; }

        .principle {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .principle:hover { border-color: rgba(102, 126, 234, 0.3); }

        .principle h2 {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        .num {
            width: 28px;
            height: 28px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            flex-shrink: 0;
        }
        .principle > p {
            color: var(--muted);
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        .code-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        @media (max-width: 700px) {
            .code-grid { grid-template-columns: 1fr; }
        }

        .code-block {
            background: #1a1d2e;
            border-radius: 8px;
            overflow: hidden;
        }
        .code-label {
            padding: 0.5rem 0.75rem;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            background: rgba(0,0,0,0.3);
        }
        .code-label.bad { color: var(--danger); }
        .code-label.good { color: var(--success); }

        pre {
            padding: 1rem;
            overflow-x: auto;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            line-height: 1.5;
        }

        .comment { color: #5c6370; }
        .keyword { color: #c678dd; }
        .string { color: #98c379; }
        .function { color: #61afef; }
        .number { color: #d19a66; }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--muted);
            font-size: 0.85rem;
        }
        footer a { color: var(--primary); text-decoration: none; }
    </style>
</head>
<body>
    <div class="container">
        <a href="/" class="back">← Back to Vandine</a>

        <header>
            <h1>NASA's Power of 10</h1>
            <p>Reliable code principles with Python examples</p>
        </header>

        <!-- Principle 1 -->
        <div class="principle">
            <h2><span class="num">1</span> Simple Control Flow</h2>
            <p>Use guard clauses instead of nested if-else statements.</p>
            <div class="code-grid">
                <div class="code-block">
                    <div class="code-label bad">Bad</div>
                    <pre><span class="keyword">def</span> <span class="function">process</span>(user):
    <span class="keyword">if</span> user:
        <span class="keyword">if</span> user.active:
            <span class="keyword">if</span> user.email:
                <span class="keyword">return</span> send(user.email)
            <span class="keyword">else</span>:
                <span class="keyword">return</span> <span class="string">"No email"</span>
        <span class="keyword">else</span>:
            <span class="keyword">return</span> <span class="string">"Inactive"</span>
    <span class="keyword">return</span> <span class="string">"No user"</span></pre>
                </div>
                <div class="code-block">
                    <div class="code-label good">Good</div>
                    <pre><span class="keyword">def</span> <span class="function">process</span>(user):
    <span class="keyword">if not</span> user:
        <span class="keyword">return</span> <span class="string">"No user"</span>
    <span class="keyword">if not</span> user.active:
        <span class="keyword">return</span> <span class="string">"Inactive"</span>
    <span class="keyword">if not</span> user.email:
        <span class="keyword">return</span> <span class="string">"No email"</span>

    <span class="keyword">return</span> send(user.email)</pre>
                </div>
            </div>
        </div>

        <!-- Principle 2 -->
        <div class="principle">
            <h2><span class="num">2</span> Limit All Loops</h2>
            <p>Every loop must have a fixed upper bound to prevent infinite loops.</p>
            <div class="code-grid">
                <div class="code-block">
                    <div class="code-label bad">Bad</div>
                    <pre><span class="keyword">def</span> <span class="function">fetch_all</span>(url):
    results = []
    page = <span class="number">1</span>

    <span class="keyword">while True</span>:  <span class="comment"># Can hang forever!</span>
        data = fetch(f<span class="string">"{url}?p={page}"</span>)
        <span class="keyword">if not</span> data:
            <span class="keyword">break</span>
        results.extend(data)
        page += <span class="number">1</span>

    <span class="keyword">return</span> results</pre>
                </div>
                <div class="code-block">
                    <div class="code-label good">Good</div>
                    <pre>MAX_PAGES = <span class="number">100</span>

<span class="keyword">def</span> <span class="function">fetch_all</span>(url):
    results = []

    <span class="keyword">for</span> page <span class="keyword">in</span> <span class="function">range</span>(<span class="number">1</span>, MAX_PAGES + <span class="number">1</span>):
        data = fetch(f<span class="string">"{url}?p={page}"</span>)
        <span class="keyword">if not</span> data:
            <span class="keyword">break</span>
        results.extend(data)

    <span class="keyword">return</span> results</pre>
                </div>
            </div>
        </div>

        <!-- Principle 3 -->
        <div class="principle">
            <h2><span class="num">3</span> Avoid Dynamic Allocation</h2>
            <p>Reuse buffers instead of creating new objects repeatedly.</p>
            <div class="code-grid">
                <div class="code-block">
                    <div class="code-label bad">Bad</div>
                    <pre><span class="keyword">def</span> <span class="function">process_batch</span>(items):
    results = []  <span class="comment"># New list each call</span>

    <span class="keyword">for</span> item <span class="keyword">in</span> items:
        <span class="keyword">if</span> item.valid:
            results.append({  <span class="comment"># New dict</span>
                <span class="string">'id'</span>: item.id,
                <span class="string">'val'</span>: item.val
            })

    <span class="keyword">return</span> results</pre>
                </div>
                <div class="code-block">
                    <div class="code-label good">Good</div>
                    <pre><span class="comment"># Pre-allocate buffer once</span>
BUFFER = [<span class="keyword">None</span>] * <span class="number">1000</span>

<span class="keyword">def</span> <span class="function">process_batch</span>(items, buf=BUFFER):
    count = <span class="number">0</span>

    <span class="keyword">for</span> item <span class="keyword">in</span> items:
        <span class="keyword">if</span> item.valid <span class="keyword">and</span> count < <span class="function">len</span>(buf):
            buf[count] = (item.id, item.val)
            count += <span class="number">1</span>

    <span class="keyword">return</span> count  <span class="comment"># Return count</span></pre>
                </div>
            </div>
        </div>

        <!-- Principle 4 -->
        <div class="principle">
            <h2><span class="num">4</span> Keep Functions Short</h2>
            <p>No function should exceed 60 lines. Break into smaller functions.</p>
            <div class="code-grid">
                <div class="code-block">
                    <div class="code-label bad">Bad</div>
                    <pre><span class="keyword">def</span> <span class="function">handle_order</span>(data):
    <span class="comment"># Validate (20 lines)</span>
    <span class="comment"># Calculate price (15 lines)</span>
    <span class="comment"># Check inventory (15 lines)</span>
    <span class="comment"># Process payment (25 lines)</span>
    <span class="comment"># Send email (15 lines)</span>
    <span class="comment"># ... 90+ lines total</span>
    <span class="keyword">pass</span></pre>
                </div>
                <div class="code-block">
                    <div class="code-label good">Good</div>
                    <pre><span class="keyword">def</span> <span class="function">handle_order</span>(data):
    <span class="keyword">if not</span> validate(data):
        <span class="keyword">return</span> Error(<span class="string">"Invalid"</span>)

    order = create_order(data)
    order = apply_pricing(order)

    <span class="keyword">if not</span> reserve_inventory(order):
        <span class="keyword">return</span> Error(<span class="string">"No stock"</span>)

    process_payment(order)
    send_confirmation(order)
    <span class="keyword">return</span> order</pre>
                </div>
            </div>
        </div>

        <!-- Principle 5 -->
        <div class="principle">
            <h2><span class="num">5</span> Use Assertions</h2>
            <p>Check preconditions and postconditions to catch bugs early.</p>
            <div class="code-grid">
                <div class="code-block">
                    <div class="code-label bad">Bad</div>
                    <pre><span class="keyword">def</span> <span class="function">divide</span>(a, b):
    <span class="keyword">return</span> a / b  <span class="comment"># Crashes if b=0</span>

<span class="keyword">def</span> <span class="function">withdraw</span>(account, amount):
    account.balance -= amount
    <span class="comment"># Can go negative!</span></pre>
                </div>
                <div class="code-block">
                    <div class="code-label good">Good</div>
                    <pre><span class="keyword">def</span> <span class="function">divide</span>(a, b):
    <span class="keyword">assert</span> b != <span class="number">0</span>, <span class="string">"Cannot divide by zero"</span>
    <span class="keyword">return</span> a / b

<span class="keyword">def</span> <span class="function">withdraw</span>(account, amount):
    <span class="keyword">assert</span> amount > <span class="number">0</span>, <span class="string">"Amount must be positive"</span>
    <span class="keyword">assert</span> account.balance >= amount
    account.balance -= amount
    <span class="keyword">assert</span> account.balance >= <span class="number">0</span></pre>
                </div>
            </div>
        </div>

        <!-- Principle 6 -->
        <div class="principle">
            <h2><span class="num">6</span> Minimize Scope</h2>
            <p>Keep variables at the smallest scope possible. Avoid globals.</p>
            <div class="code-grid">
                <div class="code-block">
                    <div class="code-label bad">Bad</div>
                    <pre><span class="comment"># Global mutable state</span>
current_user = <span class="keyword">None</span>
cart = []

<span class="keyword">def</span> <span class="function">login</span>(user):
    <span class="keyword">global</span> current_user
    current_user = user

<span class="keyword">def</span> <span class="function">add_item</span>(item):
    cart.append(item)  <span class="comment"># Shared state</span></pre>
                </div>
                <div class="code-block">
                    <div class="code-label good">Good</div>
                    <pre><span class="keyword">class</span> <span class="function">Store</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self._user = <span class="keyword">None</span>
        self._cart = []

    <span class="keyword">def</span> <span class="function">login</span>(self, user):
        self._user = user

    <span class="keyword">def</span> <span class="function">add_item</span>(self, item):
        self._cart.append(item)

store = Store()  <span class="comment"># Encapsulated</span></pre>
                </div>
            </div>
        </div>

        <!-- Principle 7 -->
        <div class="principle">
            <h2><span class="num">7</span> Check Return Values</h2>
            <p>Always handle potential errors from function calls.</p>
            <div class="code-grid">
                <div class="code-block">
                    <div class="code-label bad">Bad</div>
                    <pre><span class="keyword">def</span> <span class="function">save_user</span>(user_id, data):
    user = db.find(user_id)  <span class="comment"># Could be None!</span>
    user.data = data         <span class="comment"># Crashes</span>
    db.save(user)            <span class="comment"># Could fail!</span>
    <span class="keyword">return</span> <span class="keyword">True</span></pre>
                </div>
                <div class="code-block">
                    <div class="code-label good">Good</div>
                    <pre><span class="keyword">def</span> <span class="function">save_user</span>(user_id, data):
    user = db.find(user_id)
    <span class="keyword">if</span> user <span class="keyword">is None</span>:
        <span class="keyword">return</span> {<span class="string">"error"</span>: <span class="string">"Not found"</span>}

    user.data = data

    <span class="keyword">try</span>:
        db.save(user)
    <span class="keyword">except</span> DBError <span class="keyword">as</span> e:
        <span class="keyword">return</span> {<span class="string">"error"</span>: <span class="function">str</span>(e)}

    <span class="keyword">return</span> {<span class="string">"success"</span>: <span class="keyword">True</span>}</pre>
                </div>
            </div>
        </div>

        <!-- Principle 8 -->
        <div class="principle">
            <h2><span class="num">8</span> Use Constants</h2>
            <p>Replace magic numbers and strings with named constants.</p>
            <div class="code-grid">
                <div class="code-block">
                    <div class="code-label bad">Bad</div>
                    <pre><span class="keyword">def</span> <span class="function">get_price</span>(user):
    <span class="keyword">if</span> user.role == <span class="string">"admin"</span>:
        <span class="keyword">return</span> <span class="number">0</span>
    <span class="keyword">elif</span> user.role == <span class="string">"premium"</span>:
        <span class="keyword">return</span> <span class="number">9.99</span>
    <span class="keyword">else</span>:
        <span class="keyword">return</span> <span class="number">19.99</span>
<span class="comment"># Magic strings and numbers</span></pre>
                </div>
                <div class="code-block">
                    <div class="code-label good">Good</div>
                    <pre><span class="keyword">from</span> enum <span class="keyword">import</span> Enum

<span class="keyword">class</span> <span class="function">Role</span>(Enum):
    ADMIN = <span class="string">"admin"</span>
    PREMIUM = <span class="string">"premium"</span>
    BASIC = <span class="string">"basic"</span>

PRICES = {
    Role.ADMIN: <span class="number">0</span>,
    Role.PREMIUM: <span class="number">9.99</span>,
    Role.BASIC: <span class="number">19.99</span>,
}

<span class="keyword">def</span> <span class="function">get_price</span>(user):
    <span class="keyword">return</span> PRICES.get(user.role, <span class="number">19.99</span>)</pre>
                </div>
            </div>
        </div>

        <!-- Principle 9 -->
        <div class="principle">
            <h2><span class="num">9</span> Avoid Mutable Defaults</h2>
            <p>Never use mutable objects as default arguments.</p>
            <div class="code-grid">
                <div class="code-block">
                    <div class="code-label bad">Bad</div>
                    <pre><span class="keyword">def</span> <span class="function">add</span>(item, items=[]):
    items.append(item)  <span class="comment"># Shared!</span>
    <span class="keyword">return</span> items

add(<span class="number">1</span>)  <span class="comment"># [1]</span>
add(<span class="number">2</span>)  <span class="comment"># [1, 2] - Surprise!</span>
add(<span class="number">3</span>)  <span class="comment"># [1, 2, 3] - Bug!</span></pre>
                </div>
                <div class="code-block">
                    <div class="code-label good">Good</div>
                    <pre><span class="keyword">def</span> <span class="function">add</span>(item, items=<span class="keyword">None</span>):
    <span class="keyword">if</span> items <span class="keyword">is None</span>:
        items = []
    items.append(item)
    <span class="keyword">return</span> items

add(<span class="number">1</span>)  <span class="comment"># [1]</span>
add(<span class="number">2</span>)  <span class="comment"># [2] - Correct!</span>
add(<span class="number">3</span>)  <span class="comment"># [3] - Correct!</span></pre>
                </div>
            </div>
        </div>

        <!-- Principle 10 -->
        <div class="principle">
            <h2><span class="num">10</span> Use Type Hints & Linting</h2>
            <p>Enable all warnings and use type hints for safer code.</p>
            <div class="code-grid">
                <div class="code-block">
                    <div class="code-label bad">Bad</div>
                    <pre><span class="keyword">def</span> <span class="function">process</span>(data):
    result = []
    <span class="keyword">for</span> x <span class="keyword">in</span> data:
        <span class="keyword">if</span> x[<span class="string">'active'</span>] == <span class="keyword">True</span>:
            result.append(x[<span class="string">'val'</span>])
    <span class="keyword">return</span> result

<span class="comment"># No types, comparison to True</span></pre>
                </div>
                <div class="code-block">
                    <div class="code-label good">Good</div>
                    <pre><span class="keyword">from</span> typing <span class="keyword">import</span> TypedDict

<span class="keyword">class</span> <span class="function">Item</span>(TypedDict):
    active: <span class="function">bool</span>
    val: <span class="function">int</span>

<span class="keyword">def</span> <span class="function">process</span>(data: <span class="function">list</span>[Item]) -> <span class="function">list</span>[<span class="function">int</span>]:
    <span class="keyword">return</span> [
        x[<span class="string">'val'</span>] <span class="keyword">for</span> x <span class="keyword">in</span> data
        <span class="keyword">if</span> x[<span class="string">'active'</span>]
    ]
<span class="comment"># mypy + ruff for checking</span></pre>
                </div>
            </div>
        </div>

        <footer>
            <p>Based on NASA JPL's "Power of 10" rules for safety-critical code</p>
            <p><a href="/">Home</a> · <a href="/dns-dashboard.html">DNS Dashboard</a> · <a href="/network-test.html">Network Lab</a></p>
        </footer>
    </div>
</body>
</html>
